{% extends "base.html" %}
{% block head_title %}{{ strain.name }} | {{ block.super }}{% endblock head_title %}
{% load bootstrap3 %}

{% block content %}
<div class="row">
  <div class="well col-xs-12 col-lg-6">
    <div class="thumbnail">
      {% if strain.photo_url %}
      <img class="img-responsive strain-photo" src="{{ strain.photo_url }}">
      {% else %}
      <image class="img-responsive strain-photo" src="{{ strain.get_strain_image }}">
      {% endif %}
    </div>
    {% buttons %}
    <h1>{{ strain.name }}</h1>
    <span>Rating: {{ strain.get_average_rating }} of 5.0 </span>
    <a href="{% url 'reviews:review' strain.id %}">
      <button class="btn btn-default">
        {% bootstrap_icon "pencil" %} Review
      </button>
    </a>
    {% endbuttons %}

    <h3>Summary</h3>
    <p>From <a href="https://www.leafly.com">Leafly.com</a>--{{ strain.summary }}</p>
    {% if countries %}
    <h3>Lineage</h3>
      {% for country, value in countries.items %}
    <img class="flag" src="http://www.geognos.com/api/en/countries/flag/{{ value }}.png">
        {{ country }}
      {% endfor %}
    {% elif countries == False %} <!--if lineage field is set to empty list-->
    <h3>Lineage</h3>
    <p>No Lineage Data for {{ strain.name }}</p>
    {% elif countries != False %} <!--if lineage field is set to empty list-->
      {{ strain.get_strain_lineage }}
    {% endif %}

    {% if genetics %}
    <h3>Genetics</h3>
    <p>{{ genetics }}</p>
    {% elif genetics == False %}
    <h3>Genetics</h3>
    <p>No data availabe for {{ strain.name }}</p>
    {% else %}
      {{ strain.get_strain_lineage }}
    {% endif %}

    {% if reviews %}
    <h3>Reviews</h3>
      {% for review in reviews %}
    <a href="{{ review.get_absolute_url }}"><p>{{ review.title }}</p></a>
      {% endfor %}
    {% endif %}
  </div> <!--/.well col-sm-12 col-lg-6-->
</div> <!--/.row-->
{% endblock %}
